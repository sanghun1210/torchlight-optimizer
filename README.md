# π”¥ Torchlight Infinite Optimizer

AI-powered build recommendation system for Torchlight Infinite

ν† μΉλΌμ΄νΈ μΈν”Όλ‹νΈ κ²μ„μ μμ›… μ¬λ¥μ„ λ¶„μ„ν•μ—¬ μµμ ν™”λ μ¤ν‚¬, μ•„μ΄ν…, μ¬λ¥ λ…Έλ“λ¥Ό μλ™μΌλ΅ μ¶”μ²ν•΄μ£Όλ” μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…

## β¨ μ£Όμ” κΈ°λ¥

- β… **AI κΈ°λ° μ¶”μ² μ‹μ¤ν…** (NEW!): OpenAI APIλ¥Ό ν†µν• μ§€λ¥ν• λΉλ“ λ¶„μ„
- β… **19κ° μμ›… μ¬λ¥ λ¶„μ„**: λ λ²¨λ³„ ν¨κ³Ό μλ™ ν¬λ΅¤λ§ λ° λ¶„μ„
- β… **κ²μ„ λ©”μ»¤λ‹μ¦ κΈ°λ°**: Burst/DoT/Hit λΉλ“ νƒ€μ… μλ™ λ¶„λ¥
- β… **μ¬λ¥ νΉμ„± λ°μ**: Angerμ -80% ν¨λ„ν‹° λ“± ν¬λ¦¬ν‹°μ»¬ ν¨κ³Ό κ³ λ ¤
- β… **μ‹λ„μ§€ λ¶„μ„**: μ¤ν‚¬/μ•„μ΄ν…/μ¬λ¥ λ…Έλ“ μƒνΈμ‘μ© μ μν™”
- β… **λ¨λ UI**: React + Vite κΈ°λ° λ°μ‘ν• μ›Ή μΈν„°νμ΄μ¤

## π›  κΈ°μ  μ¤νƒ

### Backend
- **Python 3.12**, FastAPI, SQLAlchemy
- **OpenAI API** (GPT-4o-mini) - AI λΉλ“ μ¶”μ²
- **SQLite** (19κ° μ¬λ¥ Γ— λ λ²¨λ³„ ν¨κ³Ό μ €μ¥)
- **BeautifulSoup4** (tlidb.com λ°μ΄ν„° ν¬λ΅¤λ§)

### Frontend
- **React 18**, Vite
- **Axios** (API μ—°λ™)

## ν”„λ΅μ νΈ κµ¬μ΅°

```
torchlight-optimizer/
β”β”€β”€ backend/           # λ°±μ—”λ“ μ½”λ“
β”‚   β”β”€β”€ crawler/       # μ›Ή ν¬λ΅¤λ§ λ¨λ“
β”‚   β”β”€β”€ database/      # DB λ¨λΈ λ° μ—°κ²°
β”‚   β”β”€β”€ recommender/   # μ¶”μ² μ—”μ§„
β”‚   β””β”€β”€ api/           # FastAPI μ„λ²„
β”β”€β”€ frontend/          # ν”„λ΅ νΈμ—”λ“ μ½”λ“
β”‚   β”β”€β”€ static/        # CSS, JS
β”‚   β””β”€β”€ templates/     # HTML ν…ν”λ¦Ώ
β”β”€β”€ data/              # λ°μ΄ν„° μ €μ¥μ†
β””β”€β”€ scripts/           # μ ν‹Έλ¦¬ν‹° μ¤ν¬λ¦½νΈ
```

## π€ Quick Start

### 0. ν™κ²½ μ„¤μ • (μµμ΄ 1ν)

```bash
# μμ΅΄μ„± μ„¤μΉ
pip install -r requirements.txt

# ν™κ²½ λ³€μ μ„¤μ •
cp .env.example .env
# .env νμΌμ„ μ—΄μ–΄ OPENAI_API_KEYλ¥Ό μ…λ ¥ν•μ„Έμ”
```

### 1. λ°±μ—”λ“ μ‹¤ν–‰

```bash
# κ°€μƒν™κ²½ ν™μ„±ν™”
source .venv/bin/activate

# FastAPI μ„λ²„ μ‹¤ν–‰ (http://localhost:8000)
python backend/main.py
```

API λ¬Έμ„: http://localhost:8000/docs

**μƒλ΅μ΄ AI μ—”λ“ν¬μΈνΈ**:
- `GET /api/recommendations/ai/build/{hero_id}` - AI κΈ°λ° λΉλ“ μ¶”μ²
- `GET /api/recommendations/ai/quick/{hero_id}` - λΉ λ¥Έ AI μ¶”μ²

### 2. ν”„λ΅ νΈμ—”λ“ μ‹¤ν–‰

```bash
# ν”„λ΅ νΈμ—”λ“ ν΄λ”λ΅ μ΄λ™
cd frontend

# μμ΅΄μ„± μ„¤μΉ (μµμ΄ 1νλ§)
npm install

# κ°λ° μ„λ²„ μ‹¤ν–‰ (http://localhost:3000)
npm run dev
```

**μ›Ή UI**: http://localhost:3000

---

## π“ λ°μ΄ν„° μμ§‘ (μ΄κΈ° μ„¤μ •)

μ²μ μ‹¤ν–‰ μ‹ κ²μ„ λ°μ΄ν„°λ¥Ό ν¬λ΅¤λ§ν•΄μ•Ό ν•©λ‹λ‹¤:

```bash
source .venv/bin/activate

# 1. λ°μ΄ν„°λ² μ΄μ¤ μ΄κΈ°ν™”
python scripts/init_database.py

# 2. κ²μ„ λ°μ΄ν„° ν¬λ΅¤λ§ (μ¤ν‚¬, μ•„μ΄ν…, μμ›… λ“±)
python scripts/crawl_all_data.py

# 3. μ¬λ¥ λ λ²¨ ν¨κ³Ό ν¬λ΅¤λ§ (μ¤‘μ”!)
python scripts/crawl_talent_levels.py
```

---

## π― How It Works

### AI μ¶”μ² μ‹μ¤ν… (NEW!)

**1. Context Builder** - μ§€λ¥ν• λ°μ΄ν„° μμ§‘
- μμ›…μ μ¬λ¥ λ©”μ»¤λ‹μ¦ λ¶„μ„ (λ λ²¨λ³„ ν¨κ³Ό)
- κ΄€λ ¨ μ¤ν‚¬ ν•„ν„°λ§ (50κ° ν›„λ³΄)
- κ΄€λ ¨ μ•„μ΄ν… ν•„ν„°λ§ (μ£Ό μ¤νƒ― λ§¤μΉ­)
- ν† ν° μµμ ν™”λ ν”„λ΅¬ν”„νΈ μƒμ„±

**2. AI Service** - OpenAI API μ—°λ™
- μ‹μ¤ν… ν”„λ΅¬ν”„νΈ: "Torchlight Infinite λΉλ“ μ „λ¬Έκ°€" μ—­ν•  λ¶€μ—¬
- **λ°μ΄ν„° λ¬΄κ²°μ„± λ³΄μ¥**: DB λ°μ΄ν„°λ§ μ‚¬μ© (ν™κ° λ°©μ§€)
- JSON μ‘λ‹µ ν•μ‹μΌλ΅ κµ¬μ΅°ν™”λ μ¶”μ²
- μ‹λ„μ§€ μ„¤λ… λ° ν”λ μ΄ ν μ κ³µ

**3. ν•µμ‹¬ μ°¨λ³„μ **
- β… **λ°μ΄ν„° κΈ°λ°**: λ΅μ»¬ DBκ°€ μ μΌν• μ •λ³΄ μ¶μ²
- β… **μ»¨ν…μ¤νΈ μΈμ‹**: μ¬λ¥ λ©”μ»¤λ‹μ¦μ„ κΉμ΄ λ¶„μ„
- β… **μ„¤λ… κ°€λ¥μ„±**: μ¶”μ² μ΄μ λ¥Ό μμ—°μ–΄λ΅ μ„¤λ…
- β **ν™κ° λ°©μ§€**: AIκ°€ μ„μλ΅ μ•„μ΄ν…/μ¤ν‚¬ μ΄λ¦„μ„ λ§λ“¤μ§€ μ•μ

### λ£° κΈ°λ° μ¶”μ² μ‹μ¤ν… (v2)

### 1. μ¬λ¥ λ©”μ»¤λ‹μ¦ λ¶„μ„
- 19κ° μ¬λ¥μ **λ λ²¨λ³„ ν¨κ³Ό**λ¥Ό DBμ— μ €μ¥
- 60λ λ²¨ **ν¬λ¦¬ν‹°μ»¬ ν¨λ„ν‹°** μλ™ κ°μ§€ (μ: Angerμ Tunnel Vision)
- λ©”μ»¤λ‹μ¦ ν‚¤μ›λ“ μ¶”μ¶ (burst, rage, melee, area λ“±)

### 2. μ¤ν‚¬ μ¶”μ² λ΅μ§
- μ¬λ¥ **ν•„μ λ©”μ»¤λ‹μ¦** λ§¤μΉ­ (+20μ )
- μ¬λ¥ **λΉ„μ¶”μ² λ©”μ»¤λ‹μ¦** ν¨λ„ν‹° (-25~-40μ )
- Burst μ¬λ¥μ **non-Burst μ¤ν‚¬ κ°•λ ¥ ν¨λ„ν‹°** (-40μ )
- λ°λ―Έμ§€ νƒ€μ… μ‹λ„μ§€, Spell Burst/Combo νΈν™μ„±

### 3. μ•„μ΄ν… μ¶”μ² λ΅μ§
- μ£Ό μ¤νƒ― λ§¤μΉ­, λΉλ“ νƒ€μ…λ³„ μµμ ν™”
- μ¬λ¥ **κ¶μ¥ μ¤νƒ― μ°μ„ ** (Anger β†’ Attack Speed, Area, Crit)
- μ„ΈνΈ μ•„μ΄ν… μ‹λ„μ§€

### Example: Anger Build
**Anger (Rehan - Berserker)**
- Level 60: Tunnel Vision (**-80% damage for non-Burst skills**)
- β… μ¶”μ² μ¤ν‚¬: Melee Attack (Burst νΈλ¦¬κ±° κ°€λ¥)
- β… μ¶”μ² μ•„μ΄ν…: Attack Speed, Critical Strike, Area
- β λΉ„μ¶”μ²: DoT μ¤ν‚¬, Spell μ¤ν‚¬

---

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
torchlight-optimizer/
β”β”€β”€ backend/
β”‚   β”β”€β”€ api/routes/                  # FastAPI λΌμ°ν„°
β”‚   β”β”€β”€ crawler/                     # λ°μ΄ν„° ν¬λ΅¤λ¬
β”‚   β”β”€β”€ recommendation/
β”‚   β”‚   β”β”€β”€ engine_v2.py             # λ£° κΈ°λ° μ¶”μ² μ—”μ§„
β”‚   β”‚   β”β”€β”€ context_builder.py      # β¨ AI μ»¨ν…μ¤νΈ λΉλ”
β”‚   β”‚   β””β”€β”€ ai_service.py            # β¨ OpenAI API μ—°λ™
β”‚   β”β”€β”€ game_mechanics.py            # κ²μ„ λ©”μ»¤λ‹μ¦
β”‚   β””β”€β”€ talent_mechanics.py          # μ¬λ¥ λ©”μ»¤λ‹μ¦
β”β”€β”€ frontend/
β”‚   β””β”€β”€ src/components/              # React μ»΄ν¬λ„νΈ
β”β”€β”€ scripts/                         # μ ν‹Έλ¦¬ν‹° μ¤ν¬λ¦½νΈ
β””β”€β”€ .env.example                     # β¨ ν™κ²½ λ³€μ ν…ν”λ¦Ώ
```

---

## β… κ°λ° ν„ν™©

- [x] λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ κµ¬ν„
- [x] μ›Ή ν¬λ΅¤λ¬ κ°λ° (v2)
- [x] μ¬λ¥ λ λ²¨ ν¨κ³Ό ν¬λ΅¤λ§
- [x] κ²μ„ λ©”μ»¤λ‹μ¦ μ‹μ¤ν…
- [x] μ¶”μ² μ—”μ§„ v2 (μ¬λ¥ νΉμ„± λ°μ)
- [x] **AI μ¶”μ² μ‹μ¤ν… (OpenAI API μ—°λ™)** β¨NEW
- [x] **Context Builder (μ§€λ¥ν• ν”„λ΅¬ν”„νΈ μƒμ„±)** β¨NEW
- [x] FastAPI μ„λ²„ κµ¬μ¶•
- [x] React + Vite UI
- [ ] Frontend AI μ—”λ“ν¬μΈνΈ μ—°λ™
- [ ] λ°°ν¬ (Docker, AWS/GCP)
- [ ] λ©”νƒ€ λΉλ“ ν†µκ³„

## λ°μ΄ν„° μ¶μ²

- [TLI DB](https://tlidb.com/) - Torchlight: Infinite ν¬ μ΄μ μ„ν‚¤

**Note**: μ΄ ν”„λ΅μ νΈλ” κ°μΈ/ν•™μµ λ©μ μΌλ΅ μ μ‘λμ—μΌλ©°, XD Gamesμ™€ κ³µμ‹μ μΌλ΅ κ΄€λ ¨μ΄ μ—†μµλ‹λ‹¤.

## λΌμ΄μ„ μ¤

κ°μΈ/ν•™μµ λ©μ  μ „μ© - μƒμ—…μ  μ΄μ© κΈμ§€

## κΈ°μ—¬

μ΄μ λ° ν’€ λ¦¬ν€μ¤νΈ ν™μν•©λ‹λ‹¤!
